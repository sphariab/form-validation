document.addEventListener("DOMContentLoaded",function(){var e=document.body.parentNode,t=document.querySelector(".tooltip");function n(){this.classList.add("tooltip_active")}t.addEventListener("click",n),e.addEventListener("click",function(e){e.preventDefault(),t.contains(e.target)?t.classList.add("tooltip_active"):(t.classList.remove("tooltip_active"),t.removeEventListener("click",n))});var a={cardnumber:{presence:!0},firstname:{presence:!0,length:{minimum:3,maximum:20},format:{pattern:"[a-z0-9]+",flags:"i",message:"can only contain a-z and 0-9"}},lastname:{presence:!0,length:{minimum:3,maximum:20},format:{pattern:"[a-z0-9]+",flags:"i",message:"can only contain a-z and 0-9"}},zipcode:{presence:!0},cvv:{presence:!0},expDateMonth:{presence:!0},expDateYear:{presence:!0}},c=document.querySelector(".user-form"),r=document.getElementsByClassName("submit-button")[0],i=document.querySelectorAll(".validation-wrapper"),s=document.querySelectorAll("input, select");r.addEventListener("click",function(){var e,t,n;e=c,void 0!==(n=validate(e,a))?(_.each(e.querySelectorAll("input[name], select[name]"),function(e){if(n&&n[e.name]&&!t)return t=e}),l(t,n&&n[t.name])):e.submit()}),_.each(s,function(e){e.addEventListener("blur",function(e){_.each(i,function(e){d(e)})})});for(var o=0;o<s.length;++o)s.item(o).addEventListener("change",function(){l(this,(validate(c,a)||{})[this.name])}),s.item(o).addEventListener("keyup",function(){13!==event.keyCode&&9!==event.keyCode||(event.preventDefault(),l(this,(validate(c,a)||{})[this.name]))});function l(e,t){var n=function e(t,n){if(!t||t==document)return null;return t.classList.contains(n)?t:e(t.parentNode,n)}(e.parentNode,"validation-wrapper"),c=n.querySelector(".messages");d(n),t?(n.classList.add("has-error"),_.each(t,function(e){var t,n,a;t=c,n=e,(a=document.createElement("p")).classList.add("help-block"),a.classList.add("error"),a.innerText=n,t.appendChild(a)})):n.classList.add("has-success")}function d(e){e.classList.remove("has-error"),e.classList.remove("has-success"),_.each(e.querySelectorAll(".help-block.error"),function(e){e.parentNode.removeChild(e)})}});